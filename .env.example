# IndexNow 自动提交系统 - 环境变量配置示例
# 复制此文件为 .env 并填写实际值

# ============================================
# 必填配置
# ============================================

# 网站地图 URL（完整的 sitemap.xml 地址）
SITEMAP_URL=https://your-website.com/sitemap.xml

# 站点域名（不包含 https:// 和路径）
SITE_HOST=your-website.com

# IndexNow API 密钥（使用 openssl rand -hex 16 生成）
INDEXNOW_API_KEY=your-32-character-api-key-here

# IndexNow 密钥文件位置（自动生成：https://{SITE_HOST}/{API_KEY}.txt）
# 通常不需要手动配置，系统会自动构建
# 确保密钥文件已上传到网站根目录：https://your-website.com/your-32-character-api-key-here.txt

# ============================================
# 可选配置
# ============================================

# 搜索引擎列表（逗号分隔，支持多个搜索引擎）
# 默认：api.indexnow.org
# 可选：www.bing.com/indexnow, yandex.com/indexnow
INDEXNOW_SEARCH_ENGINES=api.indexnow.org,www.bing.com/indexnow

# Cron 调度表达式（默认：每天 UTC 00:00）
# 格式：分钟 小时 日 月 星期
# 示例：
#   - "0 0 * * *"     每天 00:00
#   - "0 */6 * * *"   每 6 小时
#   - "0 2 * * *"     每天 02:00
CRON_SCHEDULE=0 0 * * *

# 最大并发请求数（默认：3，考虑 Cloudflare Workers 子请求限制）
MAX_CONCURRENT_REQUESTS=3

# 请求间隔（毫秒，默认：100ms，即每秒最多 10 个请求）
REQUEST_INTERVAL_MS=100

# URL 缓存过期时间（天，默认：30）
CACHE_TTL_DAYS=30

# 失败重试次数（默认：3）
MAX_RETRIES=3

# ============================================
# 安全配置（可选）
# ============================================

# 手动触发 API 密钥（用于 /trigger 端点身份验证）
# 如果不设置，任何人都可以触发
# TRIGGER_API_KEY=your-trigger-secret-key

# ============================================
# 说明
# ============================================

# 1. IndexNow API 密钥生成：
#    openssl rand -hex 16
#
# 2. 将生成的密钥文件上传到网站根目录：
#    https://your-website.com/your-32-character-api-key-here.txt
#    文件内容就是密钥本身：your-32-character-api-key-here
#
#    ⚠️ 重要：这个密钥文件必须可以通过 HTTPS 访问，IndexNow API 会验证它
#
# 3. 部署到 Cloudflare Workers：
#    wrangler deploy
#
# 4. 配置环境变量：
#    wrangler secret put INDEXNOW_API_KEY
#    然后输入密钥值
#
# 5. 手动触发测试：
#    curl https://your-worker.workers.dev/trigger
